{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 <!doctype html>\
<html>\
<head>\
  <meta charset="utf-8" />\
  <meta name="viewport" content="width=device-width, initial-scale=1" />\
  <title>Sign-Out Admin</title>\
  <style>\
    body \{ font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin:0; background:#0b1220; color:#eef; \}\
    header \{ display:flex; gap:8px; align-items:center; justify-content:space-between; padding:12px 16px; background:#111a2b; position:sticky; top:0; \}\
    input, select \{ padding:8px 10px; border-radius:8px; border:1px solid #334; background:#0f1626; color:#eef; \}\
    table \{ width:100%; border-collapse:collapse; \}\
    th, td \{ padding:10px 12px; border-bottom:1px solid #1f2940; text-align:left; \}\
    th \{ position:sticky; top:56px; background:#0f1626; z-index:1; \}\
    .wrap \{ max-width:1100px; margin:0 auto; \}\
  </style>\
</head>\
<body>\
  <header>\
    <div>Sign-Out Admin</div>\
    <div style="display:flex; gap:8px;">\
      <input id="q" placeholder="Filter\'85" />\
      <select id="auto">\
        <option value="5000">Auto: 5s</option>\
        <option value="10000">10s</option>\
        <option value="30000">30s</option>\
        <option value="0">Off</option>\
      </select>\
    </div>\
  </header>\
\
  <div class="wrap">\
    <table>\
      <thead>\
        <tr>\
          <th>Time</th>\
          <th>Student</th>\
          <th>ID</th>\
          <th>Source</th>\
          <th>Device</th>\
        </tr>\
      </thead>\
      <tbody id="rows"></tbody>\
    </table>\
  </div>\
\
  <script src="./config.js"></script>\
  <script>\
    const \{ API_BASE \} = window.APP_CONFIG;\
    const rowsEl = document.getElementById('rows');\
    const qEl    = document.getElementById('q');\
    const autoEl = document.getElementById('auto');\
    let timer = null;\
\
    function start()\{\
      load();\
      setAuto();\
      autoEl.addEventListener('change', setAuto);\
      qEl.addEventListener('input', render);\
    \}\
    function setAuto()\{\
      if (timer) clearInterval(timer);\
      const ms = Number(autoEl.value);\
      if (ms > 0) timer = setInterval(load, ms);\
    \}\
    async function load()\{\
      try\{\
        const res = await fetch(`$\{API_BASE\}?route=recent`);\
        const data = await res.json();\
        window.__data = Array.isArray(data) ? data.reverse() : [];\
        render();\
      \}catch(e)\{ console.error(e); \}\
    \}\
    function render()\{\
      const q = qEl.value.trim().toLowerCase();\
      const arr = (window.__data || []).filter(r => !q || JSON.stringify(r).toLowerCase().includes(q));\
      rowsEl.innerHTML = arr.map(r => \{\
        const t = r.Timestamp ? new Date(r.Timestamp).toLocaleString() : '';\
        const name = [r.FirstName, r.LastName].filter(Boolean).join(' ');\
        return `<tr>\
          <td>$\{t\}</td>\
          <td>$\{name\}</td>\
          <td>$\{r.StudentID || ''\}</td>\
          <td>$\{r.Source || ''\}</td>\
          <td>$\{r.DeviceID || ''\}</td>\
        </tr>`;\
      \}).join('');\
    \}\
    start();\
  </script>\
</body>\
</html>\
}